# 1. 概念入门

**概念：** 
- `enum` 全称 `enumeration`，是JDK1.5中引入的新特性，存放在 `java.lang` 包中，它的语法结构尽管和普通class的语法不一样，但是经过编译器编译之后产生的仍然是一个class文件。
- 所有的 `enum` 都默认继承了抽象类 `java.lang.Enum<E>`，即不能再继承其他类。

# 2. 枚举类定义

**概念：** 
- 创建枚举类时，关键字要使用 `enum` 替换 `class`。
- 枚举类中的每个属性都将映射到 `Enum` 类的唯一构造器中：
    - `protected Enum(String name, int ordinal)`
        - `name`：枚举属性的名称，是一个字符串。 
        - `ordinal`：枚举属性被创建的顺序，从0开始。
    - 这个构造器不能被显示调用，而是编译器根据枚举属性自动调用的。 
- 枚举类中的属性建议使用大写。
- 允许在枚举类中，像普通类那样自定义属性和方法，但是必须写在枚举常量的下面。
- `枚举类名.枚举常量` 可以返回一个该枚举类的枚举对象。

**源码：** Week.java
```java
/**
 * @author JoeZhou
 */
public enum Week{

    /**星期一到星期日*/
    MON, TUE, WED, THU, FRI, SAT, SUN;
    
    /* 
        // 上面的枚举属性相当于调用了7次Enum类的构造器代码：
        new Enum<Week>("MON", 0);
        new Enum<Week>("TUE", 1);
        new Enum<Week>("WED", 2);
        new Enum<Week>("THU", 3);
        new Enum<Week>("FRI", 4);
        new Enum<Week>("SAT", 5);
        new Enum<Week>("SUN", 6);
    */
}
```

**源码：**
```java
@Test
public void week(){
    Week mon = Week.MON;
    System.out.println(mon);
}
```

# 3. 自定义构造器

**概念：** 枚举类可以定义自己的构造器来覆盖 `Enum` 的构造器，但默认且只能是private修饰的，一样不可以被调用。

**源码：**
```java
/**
 * @author JoeZhou
 */
public enum RgbColor {

    /**RGB三原色*/
    RED(1), GREEN(2), BLUE(3);
    
    private int rgbCode;

    RgbColor(int rgbCode) {
        this.rgbCode = rgbCode;
    }

    public int getRgb() {
        return rgb;
    }
}
```

**源码：**
```java
@Test
public void rgbColorTest(){
    System.out.println(MyColor.RED.getRgb());
}
```

> 枚举类中的方法需要使用某个枚举属性来调用。

**练习：** 02006-3
1. Which code fragment, inserted at line 19, allows the Rainbow class to compile?
```java
public class Rainbow {
    public enum MyColor {
        RED(0xff0000), GREEN(0x00ff00), BLUE(0x0000ff);
        private final int rgb;
        MyColor(int rgb) { this.rgb = rgb; }
        public int getRGB() { return rgb; }
    };
    public static void main(String[] args) {
        // insert code here 19
    }
}
```
- A. MyColor skyColor = BLUE;
- B. MyColor treeColor = MyColor.GREEN;
- C. if(RED.getRGB() < BLUE.getRGB()) { }
- D. Compilation fails due to other error(s) in the code.
- E. MyColor purple = new MyColor(0xff00ff);
- F. MyColor purple = MyColor.BLUE + MyColor.RED;

# 4. 枚举类常用API

**概念：** 枚举类常用的API方法如下：
- `枚举类名.values()`
    - 获取枚举类中所有的枚举属性组成的枚举数组。
    - 在我们编写自定义的enum时，是没有 `values()` 的，只有在编译java文件时，javac才会自动帮助我们生成这个方法。
- `枚举类名.枚举常量.toString()`
    - 返回该枚举对象的全部信息（名，序号等）的字符串。
    - 可以在枚举属性后添加匿名内部类来重写toString：
        - `MON{@Override public String toString(){ return "星期一";}}`
- `枚举类名.枚举常量.name()`
    - 返回该枚举对象的名字。
- `枚举类名.枚举常量.ordinal()`
    - 返回枚举对象从0开始的序号。
- `枚举类名.枚举常量.compareTo(枚举类名.枚举常量)`
    - 返回两个枚举对象的序号（ordinal）差。

**源码：**
```java
@Test
public void enumApi() {
    System.out.println(Week.MON.toString());
    System.out.println(Week.SAT.name());
    System.out.println(Week.FRI.ordinal());
    System.out.println(Week.TUE.compareTo(Week.THU));
    
    Week[] week = Week.values();
    for(Week e : week){
        System.out.print(e.toString() + "\t");
    }
}
```

**练习：** 02006-4
1. Place the lines in the correct order to complete the enum.
```java
enum Element{
    //1st
    //2nd
    //3rd
    //4th
    //5th
```
- A. `public String into(){ return "element";}`
- B. `};`
- C. `FIRE{ public String info(){ return "Hot";}`
- D. `EARTH, VIND,`
- E. `}`

# 5. switch中使用枚举

**概念：** switch()中可以直接使用枚举类型。

**源码：**
```java
@Test
public void enumForSwitch() {
    Week dayOfWeek = Week.SAT;
    switch (dayOfWeek) {
        case SAT:
            System.out.println("复习..");
            break;
        case SUN:
            System.out.println("旅游..");
            break;
        default:
            System.out.println("上课..");
            break;
    }
}
```

**练习：** 02006-5
1. What is the result?
```java
public class Test {
    public enum Dogs {collie, harrier};
    public static void main(String [] args) {
        Dogs myDog = Dogs.collie;
        switch (myDog) {
            case collie:
                System.out.print("collie ");
            case harrier:
                System.out.print("harrier ");
        }
    }
}
```
- A. collie
- B. harrier
- C. Compilation fails.
- D. collie harrier
- E. An exception is thrown at runtime.

2. What is the result?
```java
public class Test {
    public enum Dogs {collie, harrier, shepherd};
    public static void main(String [] args) {
        Dogs myDog = Dogs.shepherd;
        switch (myDog) {
            case collie:
                System.out.print("collie ");
            case default:
                System.out.print("retriever ");
            case harrier:
                System.out.print("harrier ");
        }
    }
}
```
- A. harrier
- B. shepherd
- C. retriever
- D. Compilation fails.
- E. retriever harrier
- F. An exception is thrown at runtime.

